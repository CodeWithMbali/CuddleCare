<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Book a Service | Cuddle Care</title>
  <link rel="stylesheet" href="style.css">
  <script src="script.js" defer></script>
</head>
<body>
  <nav>
    <h1>Cuddle Care</h1>
    <ul>
  <li><a href="index.html">Home</a></li>
      <li><a href="about.html">About</a></li>
      <li><a href="services.html">Services</a></li>
      <li><a href="hours.html">Hours</a></li>
      <li><a href="contact.html">Contact</a></li>
      <li><a href="booking.html" class="active">Book Now</a></li>
    </ul>
  </nav>

  <section>
    <h2>Book an Appointment</h2>
    <p>Fill out the form below to schedule your visit. All information is kept confidential.</p>
    <form id="bookingForm">
      <label for="name">Full Name</label>
      <input type="text" id="name" name="name" required>

      <label for="email">Email Address</label>
      <input type="email" id="email" name="email" required>

      <label for="phone">Phone Number</label>
      <input type="tel" id="phone" name="phone" required>

      <label for="service">Service Needed</label>
      <select id="service" name="service" required>
        <option value="">Choose a service...</option>
        <option value="wellness">Mother Wellness Checkup</option>
        <option value="baby">Baby Health Monitoring</option>
        <option value="nutrition">Nutrition & Breastfeeding</option>
        <option value="postpartum">Postpartum Recovery</option>
        <option value="family-planning">Family Planning & Contraception</option>
        <option value="abortion">Safe & Confidential Abortion Care</option>
        <option value="general-health">General Health Checkups & Screenings</option>
      </select>

      <label for="date">Preferred Date</label>
      <input type="date" id="date" name="date" required>

      <label for="message">Additional Notes</label>
      <textarea id="message" name="message" rows="4"></textarea>

      <button type="submit">Submit Booking</button>
    </form>
    <script>
      document.getElementById('bookingForm').addEventListener('submit', async function(e) {
        e.preventDefault();
        const form = e.target;
        const data = {
          name: form.name.value,
          email: form.email.value,
          phone: form.phone.value,
          service: form.service.value,
          date: form.date.value,
          message: form.message.value
        };
        try {
          const res = await fetch('http://localhost:3001/api/book', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(data)
          });
          const result = await res.json();
          if(result.success) {
            alert('Booking submitted successfully!');
            form.reset();
          } else {
            alert('Error: ' + (result.error || 'Could not submit booking.'));
          }
        } catch (err) {
          alert('Network error: ' + err.message);
        }
      });
    </script>
  </section>

  <footer>
    <p>Â© 2025 Cuddle Care: Mother & Baby | All Rights Reserved</p>
  </footer>
</body>
</html>
